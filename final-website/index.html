<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Foreign Exchange Data Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <style>
        body {
            padding: 60px 120px 60px 120px;
            font-family: 'Roboto', sans-serif;
            background-color: rgba(245, 245, 220, 0.425);
        }

        .section {
            margin-bottom: 20px;
        }

        .section-title {
            cursor: pointer;
            font-weight: bold;
        }

        .section-content {
            display: none;
            margin-top: 10px;
        }

        #interaction-grid,
        #transformation-grid,
        #color-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        #interaction-grid img,
        #transformation-grid img,
        #color-grid img {
            width: 100%;
            max-width: 750px;
            margin: auto;
        }
    </style>
</head>

<body>
    <div class="section" id="introduction-section">
        <div class="section-title1 button-86" onclick="toggleSection('introduction')">1. Introduction</div>
        <div class="section-content">
            <h2>1. Introduction</h2>
            <h3>1.1. Domain and Project Motivation</h3>
            <p>Our team has decided to focus a project around foreign exchange (FOREX) currency data, with an emphasis on historical data. Many paid services exist that allow those dealing in forex trading to analyze current data and to aid in market predictions, but we think there may be value in visualizing the data with a map to cater towards a new audience. A typical user of our vis would be beginner forex traders, people who have families in other countries, currency collector, and anyone who is traveling to another country. Some questions the viewer may be able to answer from visualizations of this data are:
            Which countries have stable/volatile currency exchange rates?
            Which trade commodities in a given country have more direct influence over the currency exchange rates?
            How has the relative value of a given nations' currency changed over time on the world stage? With a specific country/countries?
            Thus, our users can be grouped into two categories. One category is comprised of those who hold a certain level of knowledge and familiarity with FOREX currency data or what they want to do with the currency data. For example, people who want to send money to family in other countries know that they must find the exchange rate between their country and their family’s country. These users would perform a query using our visualization tool, more specifically, they would identify the feature of the data which is the exchange rate between the two countries. These users might not have all of the necessary information, but they generally know what they want the result of their use of the visualization to look like. Our second category of users are those who are generally new to FOREX in the context of stocks trading and do not fully understand the data or how to query it. Their lack of knowledge and familiarity means that they do not know how to classify and digest the information provided by the raw data, so they are most likely interested in searching the data, more specifically, browsing and exploring trends and outliers. They are not particularly interested in granular data, but rather they’re interested in trends as this indicates a mindshare or a general sentiment among the denizens of this field. In other words, their primary goal is to just get started utilizing this data, not necessarily making the most strategic decisions.
            For our more advanced group, they want to be able to see the result of their specific search. Thus, our visualizations must accommodate that through their structure; our map visualization needs to allow users to search the FOREX currency rate between any two countries. Fundamentally, we want our visualization to be interactive because the data can be viewed on multiple spectrums: large trends to minute details, FOREX currency data of all countries versus the exchange rate between two specific countries, FOREX currency data normalized in reference to a specific country versus the FOREX currency data relative to two countries. The ways in which the data can be viewed is not one size fits all and by providing an interactive interface to our visualizations, we allow for an intuitive and customizable user experience. 
            </p>

            <h3>1.2. Data</h3>
            <p>There are many data sets out there that collect and archive FOREX ticker data. Our team anticipates the biggest hurdle will be obtaining data in a workable format and one that is not a paid service API. The first confirmed free source [1] is from this site: HistData.com. The dataset type is a table, where the attributes are date (ordinal), time (ordinal), open price (quantitative), high price (quantitative), low price (quantitative), closing price (quantitative), and volume (quantitative). Our stretch-goal would be to use this data, that is traditionally used granularly for brokerage trading and profit making, and change the lens to looking for geopolitical trends or diplomacy. The main limitation in regards to this stretch goal is the fact that our data is historical, thus introducing large amounts of potential variance in cases where currencies undergo drastic changes due to factors such as hyperinflation and longstanding currencies.

            Currently, our data is discrete with each item in our dataset being a collection of information at a specific moment in time. This works computationally, but visually, frequently changing visual characteristics depending on which bin a certain numerical characteristic falls under will make for a jarring presentation, especially at the minute-by-minute scale of information we are working with. Thus, to have smooth transitions for identity channels like color and size, we will need to abstract the discrete data into a continuous dataset that we can then use to calculate values for things like color or size. Instead of using predetermined bins to map forex ratios to certain colors, we can instead assign a spectrum of colors by creating a continuous representation of the data that can gradually transition from one discrete data point to another. In terms of a concrete transformation, one thing we could do to create a continuous representation of the data is calculate the slope between each pre-existing data point, allowing us to approximate the value at any given point in time. Then, we can map this function to a color picking function with higher value inputs returning more salient colors and lower value inputs returning less salient colors.
            </p>
            
            <h3>1.3. Project Contributions</h3>
            <p>The intention of this project is to provide the user with a front end graphical interface that will allow them to be able to interact with their desired foreign exchange trading data.  The prepared visualizations will be able to display a world map where the user will be able to interact with the different countries to compare conversion rates for the two chosen countries.  There are several potential technologies being weighed by the team at the moment, so the exact implementation is not yet clear (some frontrunner options are Python geo libraries, React modules or D3 to render a map), however the mode of access for the user will be in their web browser of choice as the service will be hosted online.  This is subject to change as visualizations are developed, data limitations are discovered and inspiration strikes.  One key feature of this project is to allow users to ask geographical questions about their foreign exchange rates, therefore visualizations will need to (at least in part) incorporate the Earth in some way, some form of map. The hope is that by allowing users to see geographical connections between the currency pair they have selected, they can gain a greater context for possible price fluctuations.  This also would doubly serve as the mechanism for users to select a new currency pair to analyze by allowing them to click directly on countries on their map. Additionally, options open for the map to have visual queues to alert users to a currency pair that is experiencing some form of indicator that market movement will happen. This would be useful because even if that user is not actively watching a particular pair chart, their attention can be gained and they can click on to that specific pair from being alerted. One initial idea for this alert is to have a country pair flash, blink or glow on the ma p. This is one example of some of the possibilities that open up by including a graphical map as a core part of the user interface.
            </p>
        </div>
    </div>

    <div class="section" id="related-work-section">
        <div class="section-title2 button-86" onclick="toggleSection('related-work')">2. Related Work</div>
        <div class="section-content">
            <h2>2. Related Works</h2>
            <p>Both before and during the implementation of our project, we researched and referenced several related works that would eventually
            inspire further developments within our final visualization. Below are several of these works which contributed the most towards our
            resulting FOREX visualization.</p>
            <h3>2.1. Flight Paths Map Visualization</h3>
            <img src="images/related-1.png" alt="Flight Paths Map Visualization" width="500">
            <p>[2] Categorizing Flight Paths using Data Visualization and Clustering Methodologies.</p>
            <p>This visualization, and specifically this image depicting flight paths within the United States, is reflective of the map view of our visualization (as of the beta release). The primary similarities are seen in both the lines being drawn on top of the map as well as the sidebar overlay on the left edge of the screen. Within each of these general similarities are details that distinguish this visualization from ours, however. Visible in the image is the fact that the lines are not just straight lines connecting two points (as in our vis), but are actually visualizing the flight routes. Due to the nature of our dataset being non-geographic, there isn’t any need to consider the line’s shape besides for aesthetic purposes. Additionally, the lines are encoded using color hue, likely to indicate flight direction. In our visualization, we do not change the line color, although there is potential for future releases to adjust it based on the exchange rate between two selected countries’ currencies. The sidebar overlay seen in the image is very similar to our current implementation as well, with charts giving details based on the two airports being inspected. The main difference here is that we only plan to show one chart at a time in an attempt to reduce cognitive load for our target user, a beginner FOREX trader. One thing we plan to implement that’s present in this part of the image is playback controls for the charts, seen in the form of play and pause buttons above each chart. For our visualization, we aim to implement a play/pause button along with a scrubber bar to allow the user to skip through the animation. Overall, this visualization contains a surprising amount of similarities to what we’ve implemented thus far, and contains a few details that could inspire further developments within our visualization.
            </p>
        </div>
    </div>

    <div class="section" id="implementation-section">
        <div class="section-title3 button-86" onclick="toggleSection('implementation')">3. Implementation Section</div>
        <div class="section-content">
            <h2>3. Implementation</h2>
            <p>(iterate on text below)</p>
            <p>We manually downloaded csv files from histdata.com.</p>
            <p>We transformed the original csv files into more granular/specific csv files where single fields were split into multiple subfields. For example, the original csv files had the timestamp as a single field, but we split it up into its individual components (i.e., year, month, day, hour, minute, second).</p>
            <p>We transformed our parsed csv files into json files to embed data directly into the website. This would allow our viz to work without an accompanying database.</p>
            <p>We have two potential software architectures for our viz. Our first one will be a traditional server-client architecture where our web app communicates with our local data. Our second one will be a static site architecture where the data is embedded directly into the site and the web application does not perform networking.</p>
            
        </div>
    </div>

    <div class="section" id="results-section">
        <div class="section-title4 button-86" onclick="toggleSection('results')">4. Results</div>
        <div class="section-content">
            <h2>4. Results</h2>
            <p></p>
            <h3>4.1. Interaction/Animation</h3>
            <div id="interaction-grid">
                <img src="images/null" alt="Map Link Animation" width = 500>
                <img src="images/null" alt="Animated Candlestick" width = 500>
                <img src="images/interaction-3.PNG" alt="Search Bar" width = 500>
                <p>Figure 4.1A</p>
                <p>Figure 4.1B</p>
                <p>Figure 4.1C</p>
            </div>
            <p>need to adopt feedback from process book below:</p>
            <p>Throughout the implementation of our visualization, the theme of interaction has driven a large portion of the design choices we’ve made thus far. In general, we’ve used interaction to allow the user to compare two currencies at a time as opposed to viewing the entire dataset at once. As our target user is a beginner FOREX trader, we prioritized viewing a smaller subset of the dataset in order to reduce cognitive load. Figure 1c demonstrates one interactable component that contributes towards this idea, a search bar for the user to enter a country. Although the user could previously interact with the map view to select countries, we found that a search bar reduces latency in searching for a specific country, and is an essential function should the user not know the geographic location of a specific country they wish to inspect. Giving the user multiple options for interactively viewing a subset of data provides flexibility in our design.</p>
            <p>Figure 1b shows another interactive component within our vis, the candlestick chart. One of the main interactive elements of this chart are the tooltips that appear on mouseover. By providing open, close, high, and low prices by simply hovering over the mark, latency is largely reduced as the user no longer needs to spend mental resources aligning each mark with the axes to determine its values. Additionally, providing interactive zoom and pan controls allows the user to resize and navigate the data as they see necessary.</p>
            <p>Finally, we explored using animation in figure 1a, where the link drawn between selected countries smoothly interpolates from one coordinate to the other over time. Although it was still clear that the link indicates the selected country-country pair before implementing animation, we found that smoothly animating the link is less jarring than having it appear abruptly. A trade-off with using animation here is increased latency between the user’s input and displaying the link. We found a middle-ground by using an interpolation speed that wasn’t so slow as to drastically increase the latency, but wasn’t so fast as to be visually distracting. This solution led us to believe that the use of animation in this instance was justified and increased the effectiveness of our vis.</p>
            
            <h3>4.2. Transformation</h3>
            <div id="transformation-grid">
                <img src="images/null" alt="Transformation Image" width = 1000>
                <p>Figure 4.2A</p>
            </div>
            <p></p>
            <p>Figure 2a situates the data in terms of a geographical perspective, allowing the user to think of the various forex metrics not just as numbers, but a certain financial relationship between two countries or regions. A priori, the overview view provides no indication about the forex data between two activated countries. As such, we argue that the transformation is not within the data (because no numerical aspect of the data is conveyed to the user), but rather in the context that the data is understood. A forex pairing viewed through the lens of geography might lead the user to consider external factors (e.g., geopolitical) that might influence the data of a given forex pairing. This might not be particularly relevant to those who just want to discover trends and search for specific data points, but to those who aim to enjoy trends, they might be influenced as previously described. They might view the data not just with what is explicitly there (e.g., candlestick graph), but consider it in conjunction with how we’ve presented other aspects of the viz.</p>
            
            
            <h3>4.3. Color</h3>
            <div id="color-grid">
                <img src="images/color-1.png" alt="Color - Map View" width = 500>
                <img src="images/color-2.png" alt="Color - Candlestick Chart" width = 500>
                <p>Figure 4.3A</p>
                <p>Figure 4.3B</p>
            </div>
            <p></p>
            <p>need to adopt feedback from process book below:</p>
            <p>A large portion of our color choices were based on balancing our “novelty budget” and having a descriptive visualization. As shown by Figure 3a, we’ve made our map very similar to those that would be found in common apps used by the general public. Thus, they will be able to quickly situate themselves geographically with blue indicating bodies of water and green indicating landmasses. Adjusting the color saturation of each country based on user input also contributes to our primary motivator of interaction. A dark green color when the user mouses over a country helps to emphasize it, and a darker green color when a country is selected helps to distinguish it from unselected countries. The red pins indicate which countries have been activated. Again, this is very common in many map-based or map-adjacent applications and users will intuitively understand that the countries with pins are the countries of interest. We believe that the combination of these design choices will make it for the average user to at least understand the interface of our viz (e.g., what actions are allowed, what items are interactive) and what countries are activated or involved in our viz.</p>
            <p>We went for a similar approach for our candlestick view, as shown in figure 3b, which shows the general shape of the data and actual numerical data once items are hovered over. We reuse the same red/green color scheme as our overview view as it is a color scheme common in financial dashboards (e.g., stock market visualizations) and has appropriate cultural connotations that align with the information they are conveying. Green indicates a rise in the forex values, red indicates a fall in the forex values. In other words, green indicates a rise which is perceived as good, and red indicates a fall which is perceived as bad. We want to add a few more visual elements into this candlestick view, such as a line indicating the current time in the animation on the graph, and have it in temporal and visual sync with a date/time element in our viz. The color for this moving line does not really matter as its movement is its central feature, so we will probably approach it from the perspective of having a clearly visible but non-distracting color. This will likely be black as it will contrast very well against our bright and light background.</p>
            
            <h3>4.4. Final Visualization</h3>
            <p>Code for our final visualization is available on <a href="https://github.com/tgalcik1/FOREX-vis">Github.</a></p>
            <iframe src="http://localhost:3000/" title="FOREX Visualization" width="100%" height="740vh"></iframe>
        </div>
    </div>

    <div class="section" id="future-direction-section">
        <div class="section-title5 button-86" onclick="toggleSection('future-direction')">5. Future Direction</div>
        <div class="section-content">
            <h2>5. Future Directions</h2>
            <p>Moving forward, there are several promising avenues for the enhancement and expansion of our forex data visualization project. Firstly, integrating machine learning algorithms into the system could enable predictive analytics, allowing users to anticipate forex trends and make more informed decisions. Additionally, incorporating real-time data feeds and advanced analytics tools can provide users with up-to-the-minute insights, ensuring the relevance and accuracy of the displayed information.</p>
            
            <p>Furthermore, expanding the geographical scope of the project to include a more comprehensive set of countries and regions could offer a broader understanding of global forex dynamics. Collaborating with financial experts and economists to incorporate additional economic indicators and contextual data could also enrich the analytical capabilities of the visualization tool, providing users with a more holistic view of the factors influencing forex relationships.</p>
            
            <p>In the realm of user experience, exploring virtual reality (VR) or augmented reality (AR) applications could revolutionize how users interact with and perceive forex data, offering an immersive and intuitive experience. Additionally, ensuring compatibility with various devices and platforms can enhance accessibility and user adoption.
            We would want to make the application run on real-time data as our current version is operating on saved historical data. This would obviously make it more useful for users who are interested in present-day data and want to make decisions based on analyses and visualizations of said data.</p>
            
            <p>By addressing these future directions, our research project has the potential to evolve into a more sophisticated and comprehensive tool, empowering users with advanced analytics, real-time insights, and an enriched understanding of the complex dynamics inherent in the forex market.</p>
            
        </div>
    </div>

    
    <div class="section" id="reference-section">
        <div class="section-title6 button-86" onclick="toggleSection('reference')">Reference</div>
        <div class="section-content">
            <h2>References</h2>
            <p>[1] Free Forex Historical Data, HistData, May 2020. https://www.histdata.com/download-free-forex-data/?/metatrader/1-minute-bar-quotes</p>
            <p>[2] Y. Song, K. Yu, and S. Young. (2020). “Categorizing Flight Paths using Data Visualization and Clustering Methodologies.” Presented at ICRAT 2020. [Online]. Available: https://arxiv.org/ftp/arxiv/papers/2310/2310.00773.pdf </p>
            <p>[3] Leaflet. (2023). Volodymyr Agafonkin. Available: https://leafletjs.com/</p>
            <p>[4] D3. (2023). Mike Bostock and Observable, Inc. Available: https://d3js.org/</p>
            <p>[5] World Borders Dataset, B. Sandvik, 2009. https://thematicmapping.org/downloads/world_borders.php</p>
            <p>[6] World Countries Centroids, G. Rehkemper, September 22, 2022. https://gavinr.com/open-data/world-countries-centroids/</p>
        </div>
    </div>
    <script>
        function toggleSection(sectionId) {
            var sectionContent = document.getElementById(sectionId + '-section').getElementsByClassName('section-content')[0];
            sectionContent.style.display = (sectionContent.style.display === 'none' || sectionContent.style.display === '') ? 'block' : 'none';
        }
    </script>

</body>

</html>
